---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import AnnouncementBar from "../components/AnnouncementBar";
import Navbar from "../components/Navbar";
import BentoGrid from "../components/BentoGrid";
import TheLens from "../components/TheLens";
import FAQ from "../components/FAQ";
import BackgroundPulse from "../components/BackgroundPulse";
import PhilosophySection from "../components/PhilosophySection.astro";
import Footer from "../components/Footer.astro";
import { CONTENT } from "../constants/content";
---

<Layout
  title={CONTENT.metadata.indexPage.title}
  description={CONTENT.metadata.indexPage.description}
  keywords={CONTENT.metadata.indexPage.keywords}
>
  <script
    slot="head"
    type="application/ld+json"
    is:inline
    set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": CONTENT.faq.items.map((item) => ({
        "@type": "Question",
        "name": item.question,
        "acceptedAnswer": {
          "@type": "Answer",
          "text": item.answer,
        },
      })),
    })}
  />
  <AnnouncementBar client:load transition:persist />
  <Navbar client:load transition:persist />
  <main class="relative isolate">
    <BackgroundPulse client:load />
    <Hero />
    <PhilosophySection />
    <TheLens client:visible />
    <BentoGrid client:visible />
    <FAQ client:visible />
  </main>
  <Footer />
</Layout>
